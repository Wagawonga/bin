!/bin/bash

function addLineToRC {
    lineToAdd=$1
    targetFile=$2
    [ ! -f "$targetFile" ] && touch "$targetFile"
    if ! grep -q "$lineToAdd" "$targetFile" ;then
        echo "$lineToAdd" >> "$targetFile"
    fi
    unset targetFile
    unset lineToAdd
}

if [ "$(whoami)" == "root" ]; then
    echo
    echo "SetUpSystem als Root aufgerufen: ABBRUCH!"
    echo
    exit 1
fi

#Git einrichten:
git config --global include.path "~/dotfiles/_gitconfig"
git config --global user.name "Daniel"
git config --global user.email "none"

#Github pers√∂nliche Files runterladen:
git clone https://github.com/Wagawonga/Linux-Vimfiles.git ~/dotfiles
git clone https://github.com/Wagawonga/bin.git ~/bin

addLineToRC 'source ~/dotfiles/_vimrc.vim' ~/.vimrc
git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
vim +'colorsheme default' +PluginInstall +qall

addLineToRC 'source ~/dotfiles/_bashrc' ~/.bashrc
addLineToRC 'source ~/dotfiles/_tmux.conf' ~/.tmux.conf
